<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>キーワードノーと</title>
    <style>
        #r,#s,#e{
            background: rgb(156, 156, 156);
            cursor: pointer;

        }
        #tt,#ok,#kotaehyouji{
            display: none;
        }
        #kotae{
            position: absolute;
            left: 700px;
            bottom: 465px;
            
        }
    </style>
</head>
<body>
    <div id="r">
        <h1>理科</h1>
    </div>
    <div id="s">
        <h1>社会</h1>
    </div>
    <input type="number" value="" id="date">日前に
    <input type="button" value="GO" id="go">
    <br><p id="itu"></p>
    <div id="e">
        <h1>英語</h1>
    </div>
    <input type="button" value="登録" id="add">
    <div id="mondai">
        <textarea id="tt" cols="150" rows="10"></textarea>
        <input type="button" value="ok" id="ok">
        <input type="button" value="答えを表示" id="kotaehyouji">
        <div id="kotae"></div>
        <table id="table" border="1" style="border-collapse: collapse">
            
        </table>
    </div>
    <script>
        localStorage..saveKey = "::/0512oppose~;~に反対する;blame~;~に責任があるとする;argue~;~と主張する;claim~;~と主張する;offer~;~を申し出る;recommend~;~を推薦する;grateful;感謝している;apologize to A for B;BについてAに謝る;express~;~を表現する;promise;約束;material;材料;ability;能力;talent;才能;achieve~;~を達成する;manage to do;なんとかしてdoする;establish~;~を確立する;save~;~を省く;suffer;苦しむ;exercise;運動;physical;身体的な;fever;熱;strength;体力;tear;涙;habit;日常的な習慣、癖;custom;社会的な習慣;ancestor;祖先;evidence;証拠;value;価値;treasure;財宝;fashion;流行;vote;投票;nation;国家;state;州;political;政治的な;cost;費用を要する;earn;稼ぐ;injure~;~を痛める;ruin~;~を台無しにする;crowd;群衆;passenger;乗客;female;女性の;head;向かう、率いる;wander;歩き回る;likely~;~しそう;certain;確かな;face~;~に直面する;avoid~;~を避ける;issue;問題;cheer~;~に声援を送る;encourage A to do;Aにdoするよう促す;prevent~;~を妨げる;deny~;~を否定する;enable A to do;Aがdoできるようにする;operate~;~を操作する;sew~;~を縫う;raise~;~を上げる;serve~;~を出す;pour~;~を注ぐ;spill~;~をこぼす;pretend ~;~であるふりをする;behave~;~であるふりをする;bear~;~に耐える;explore~;~を探索する;remain~;~のままでいる;survive;生き残る;belong~;~に所属している;represent~;~を代表する;base~;~の基礎を置く;contain~;~を含む;gather~;~を集める;senior;最上級生;quit~;~を終了する;retire~;~引退する;review;再検討;predict~;~を予測する;appreciate~;~を正しく理解する;mind;気にする;compareA with B;AとBを比較する;concentrate~;~に集中する;allow~;~を許可する;admit~;~を認める;sight;光景;landscape;風景;bloom;咲く;harvest;収穫;insect;昆虫;reflect~;~を反射する;polite;礼儀正しい;rude;無礼な;lazy;怠慢な;ugly;醜い;silly;ばかな;attitube;態度;characteristic;特徴;advantage;利点;fault;欠陥;quality;質;correct;正確な;ideal;理想的な;fair;公平な;appropriate;適切な;elementary;初級の;matter;重要である;brilliant;輝いている;lively;生き生きとした;pleasant;たのしい;convenient;都合が良い;awful;ひどい;thin;薄い;tight;引き締まった;loose;ゆるい;empty;空の;familar;知名度の高い;differ;異なる;vary;さまざまだ;unusual;珍しい;specific;特定の;divide~;~を分割する;weigh~;~の重さを持ている;quarter;1/4;pile;山;rate;割合;figure;数字;lack;不足;extra;余分な;adjust to ~;~に慣れる;apply to ~;~に当てはまる;suit ~ ; ~に適している;scene;場面;opportunity;好機;aniversaly;記念日;recently;最近;delay~;～を遅らせる;lend;貸す;rent;借りる;shelf;棚;item;品物;stuff;もの;string;ひも;leisure;余暇;refrigerator;冷蔵庫;jam;渋滞;story;階;site;用地;yard;庭;greet~;～に挨拶する;direction;方角
";
        let itu = document.getElementById("itu");
        let date = document.getElementById("date");
        let goBtn = document.getElementById("go");
        let table = document.getElementById("table");
        let kotae = document.getElementById("kotae");
        let kotaehyouji = document.getElementById("kotaehyouji");
        let dd=[document.getElementById("r"),
        
        document.getElementById("s"),
        
        document.getElementById("e")];
        let bb= document.getElementById("add");
        let tt = document.getElementById("tt");
        
        let ok = document.getElementById("ok");

        let addkyoka = 0;
        let mondai = document.getElementById("mondai");

        let key = localStorage.saveKey.split(":"); //はいれつきょうかごと
        key=[
        key[0].split("/"),
        key[1].split("/"),
        key[2].split("/")];
var today = new Date();var yessterday = new Date();var aweek = new Date();var amonth = new Date();var smonth = new Date();var kako = new Date();
        date.addEventListener("input",()=>{
            kako.setMonth(today.getMonth()) //リセット
            kako.setDate(today.getDate() - Number(date.value));
            itu.textContent = ( '00' + String(kako.getMonth()+1) ).slice( -2 ) + ( '00' +  kako.getDate() ).slice( -2 );
        });

goBtn.addEventListener("click",()=>{
            DateWoSet();
        });
        

        
        
    yessterday.setDate(today.getDate() - 1);

        
aweek.setDate(today.getDate() - 7);


amonth.setDate(today.getDate() - 20);


smonth.setDate(today.getDate() - 40);
    let kyou =  ( '00' + String(today.getMonth()+1) ).slice( -2 ) + ( '00' +  today.getDate() ).slice( -2 ); //もじれつ
        let dayl = ( '00' + String(yessterday.getMonth()+1) ).slice( -2 ) + ( '00' +  yessterday.getDate() ).slice( -2 ); //もじれつ
        let weekl = ( '00' + String(aweek.getMonth()+1) ).slice( -2 ) + ( '00' +  aweek.getDate() ).slice( -2 ); //もじれつ
        let monthl = ( '00' + String(amonth.getMonth()+1) ).slice( -2 ) + ( '00' +  amonth.getDate() ).slice( -2 ); //もじれつ
        let smonthl = ( '00' + String(smonth.getMonth()+1) ).slice( -2 ) + ( '00' +  smonth.getDate() ).slice( -2 ); //もじれつ
        console.log(kyou,dayl,weekl,monthl,smonthl);
        let hyoji =[[],[],[]];
        console.log(key);
        key.forEach((e,i) => {
            key[i].forEach((t,c) => {
                if(key[i][c].includes(dayl) || key[i][c].includes(weekl)  || key[i][c].includes(monthl) || key[i][c].includes(smonthl)){
                    //cをきろく
                    console.log(key[i][c].includes(dayl) || key[i][c].includes(weekl)  || key[i][c].includes(monthl) || key[i][c].includes(smonthl));
                    console.log(t);
                    dd[i].style.background =  "rgb(50, 197, 62)";
                    hyoji[i].push(key[i][c]);

                }
            });
        });

        
    function DateWoSet(){
        yessterday.setMonth(kako.getMonth());aweek.setMonth(kako.getMonth());amonth.setMonth(kako.getMonth());smonth.setMonth(kako.getMonth());
        
        yessterday.setDate(kako.getDate() - 1);

        
        aweek.setDate(kako.getDate() - 7);

        
        amonth.setDate(kako.getDate() - 20);

        
        smonth.setDate(kako.getDate() - 40);
        kyou =  ( '00' + String(kako.getMonth()+1) ).slice( -2 ) + ( '00' +  kako.getDate() ).slice( -2 ); //もじれつ
        console.log(kyou);
        dayl = ( '00' + String(yessterday.getMonth()+1) ).slice( -2 ) + ( '00' +  yessterday.getDate() ).slice( -2 ); //もじれつ
        weekl = ( '00' + String(aweek.getMonth()+1) ).slice( -2 ) + ( '00' +  aweek.getDate() ).slice( -2 ); //もじれつ
        monthl = ( '00' + String(amonth.getMonth()+1) ).slice( -2 ) + ( '00' +  amonth.getDate() ).slice( -2 ); //もじれつ
        smonthl = ( '00' + String(smonth.getMonth()+1) ).slice( -2 ) + ( '00' +  smonth.getDate() ).slice( -2 ); //もじれつ
        console.log(kyou,dayl,weekl,monthl,smonthl);
        hyoji =[[],[],[]];
        console.log(key);
        key.forEach((e,i) => {
            key[i].forEach((t,c) => {
                if(key[i][c].includes(dayl) || key[i][c].includes(weekl)  || key[i][c].includes(monthl) || key[i][c].includes(smonthl)){
                    //cをきろく
                    console.log(key[i][c].includes(dayl) || key[i][c].includes(weekl)  || key[i][c].includes(monthl) || key[i][c].includes(smonthl));
                    console.log(t);
                    dd[i].style.background =  "rgb(50, 197, 62)";
                    hyoji[i].push(key[i][c]);

                }
            });
        });
    };

            dd[2].addEventListener("click",()=>{  //クリック
                console.log(dd[2].style.background);
        if(dd[2].style.background != "rgb(156, 156, 156)"){ //グレーアウトされていなければ
                    dd.forEach((e,i) => {   //全て非表示
                        dd[i].style.display ="none";
                        kotaehyouji.style.display ="block";
                    });
                     
                     let quiz= [];
                     let answer =[];
                     let hyojiji = [];
                    hyoji[2].forEach((e,i) => {
                        hyojiji.push(hyoji[2][i].slice( 4 ));
                    });
                    let hyojijiji = (hyojiji.join(";")).split(";");
                    console.log(hyoji,hyojiji,hyojijiji);
                    hyojijiji.forEach((e,i) => {
                        if(i%2 == 0){
                            quiz.push(hyojijiji[i]);
                            console.log("a");
                        }else{
                            answer.push(hyojijiji[i]);
                            console.log("b");
                        }
                    });
                    // 新しいHTML要素を作成
                   console.log(quiz);
                   quiz.forEach((e,i)=> {
                    let trtag = document.createElement("tr");
                     let tdtag = document.createElement("td");
                     let tdtag2 = document.createElement("td");
                        tdtag.innerText = String(i) + "　" + quiz[i];
                        tdtag2.innerText = answer[i];
                        tdtag2.className = "tdans";
                        trtag.appendChild(tdtag);
                        trtag.appendChild(tdtag2);
                        table.appendChild(trtag);
                    });
                    let tdtagans = document.getElementsByClassName("tdans");
                    for(let i=0;i<tdtagans.length;i++){
                        tdtagans[i].style.display = "none";
                        
                    }
                    kotaehyouji.addEventListener("click",()=>{
                        for(let i=0;i<tdtagans.length;i++){
                        tdtagans[i].style.display = "block";
                        }
                    })
                    
                    
                    
                }
            });



        bb.addEventListener("click",()=>{  //クリック
                        bb.style.display ="none";
                        tt.style.display ="block";
                        ok.style.display ="block";
                        dd[0].style.display ="none";
                        dd[1].style.display ="none";
                        dd[2].style.display ="none";
                    tt.textContent = localStorage.saveKey;
            })
        ok.addEventListener("click",()=>{
            console.log(tt);
            localStorage.saveKey=tt.value ;
        })

    </script>
</body>
</html>
